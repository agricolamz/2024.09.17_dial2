---
format: 
  beamer:
    theme: Singapore
    mainfont: Brill
    monofont: Iosevka
    df-print: kable
    pdf-engine: xelatex
    cite-method: natbib
    classoption: t
    header-includes: |
       \setbeamertemplate{footline}[page number]
       \usepackage{caption}
       \captionsetup[figure]{labelformat=empty}
       \captionsetup[subfigure]{labelformat=empty}
       \setbeamercolor{alerted text}{fg=teal}
title: "The DiaL2 project: pipeline, results, news and future work"
lang: en
author: 
  - name: "George Moroz"
    affiliation: "HSE" 
  - name: "Olga Gich"
    affiliation: "FEFU" 
  - name: "Anna Grishanova"
    affiliation: "HSE"
  - name: "Natalia Koshelyuk"
    affiliation: "HSE"
  - name: "Chiara Naccarato"
    affiliation: "HSE"        
  - name: "Anna Panova"
    affiliation: "HSE"
  - name: "Anastasia Yakovleva"
    affiliation: "HSE"
  - name: " "
    affiliation: "HSE"  
  - name: "Svetlana Zemicheva"
    affiliation: "HSE"
date: "09/17/2024"
date-format: "D.MM.YYYY"
bibliography: bibliography.bib
execute: 
  echo: false
  warning: false
fig-align: center  
urlcolor: teal
citecolor: teal
editor_options: 
  chunk_output_type: console
abstract: |
  There are 24 dialectal and 8 bilingual corpora of Russian at the Linguistic
  Convergence Laboratory (see the resources page), and more are coming. The 
  DiaL2 project was launched two years ago with an aim to study the linguistic 
  variation found in these corpora. We applied a UDpipe morphological and 
  syntactic parser, manually annotated a set of linguistic features (sometimes
  relistening the recordings in order to check the transcriptions), and 
  implemented statistical models for each feature that predict the probability 
  of divergence from Standard Russian. During the talk we will discuss our 
  results based on several features:
  
  - non-standard marking in numeral constructions (dva dom [two.M house.SG] 
    ‘two houses’);
  - preposition drop (rodilas’ [v] tridcat’ devjatom godu ‘(she) was born (in) 
    nineteen thirty-nine’);
  - non-standard marking in negative existential constructions (ranše sadiki ne 
    byli ‘there were no kindergartens before.’).
  
  As possible predictors in the models, we used sociolinguistic features 
  (gender, year of birth, years of education), measures of collocationality, 
  and some relevant linguistic features. During the work we discovered multiple 
  typos, inconsistent and wrong transcriptions, and corrected a lot of them. 
  Therefore, we started a parallel project dedicated to automatic correction 
  of the Lab’s corpora, which will also be discussed during the talk. 
---

```{r}
#| include: false

library(treemapify)
library(tidyverse)
theme_set(theme_minimal()+theme(text = element_text(size = 16)))
```

# Precursors of the project

## Precursors of the project

```{r}
#| layout-ncol: 2
#| fig-subcap: 
#|  - "Nina Dobrushina"
#|  - "Michael Daniel"

knitr::include_graphics("images/dobrushina.jpg")
knitr::include_graphics("images/daniel.png")
```

- Multiple sociolinguistic expeditions to Daghestan
- Several dialect expeditions to Ustya \pause
- Online corpora available for everyone:
    - [Corpus of Russian spoken in Daghestan](https://parasolcorpus.org/dagrus/)
    - [Ustja River Basin Corpus](https://www.parasolcorpus.org/Pushkino/login.php) \pause
    - ... and other bilingual and dialect corpora

## Resources of the Linguistic Convergence Laboratory

```{r}
read_tsv("https://raw.githubusercontent.com/LingConLab/LABsite_qmd/main/data.tsv") |> 
  filter(name != "Yakut-Russian Code-Switching Corpus") ->
  resources_data
  
resources_data |>
  distinct(name, type, subtype) |> 
  filter(type == "corpus") |> 
  count(subtype) ->
  stats

bilingual <- stats |> filter(subtype == "bilingual") |> pull(n)
dialect <- stats |> filter(subtype == "dialectal") |> pull(n)
```

- <https://lingconlab.ru/>
- `r dialect` dialectal corpora
- `r bilingual` bilingual corpora

## Dialectal Corpora

```{r}
resources_data |> 
  filter(subtype == "dialectal") |> 
  distinct(name, n_tokens) |> 
  mutate(n_tokens = str_remove(n_tokens, "&nbsp;"),
         n_tokens = str_remove(n_tokens, "~"),
         n_tokens = as.double(n_tokens),
         name = str_c(name, "\n", formatC(n_tokens, format="f", big.mark=",", digits=0), " tok.")) |> 
  arrange(-n_tokens) |> 
  ggplot(aes(area = n_tokens, label = name))+
  geom_treemap(fill = "white", color = "black", size = 5) +
  geom_treemap_text(grow = TRUE, reflow = TRUE)
```

## Bilingual Corpora

```{r}
resources_data |> 
  filter(subtype == "bilingual") |> 
  distinct(name, n_tokens) |> 
  mutate(n_tokens = str_remove(n_tokens, "&nbsp;"),
         n_tokens = str_remove(n_tokens, "~"),
         n_tokens = as.double(n_tokens),
         name = str_c(name, "\n", formatC(n_tokens, format="f", big.mark=",", digits=0), " tok.")) |> 
  arrange(-n_tokens) |> 
  ggplot(aes(area = n_tokens, label = name))+
  geom_treemap(fill = "white", color = "black", size = 5) +
  geom_treemap_text(grow = TRUE, reflow = TRUE)
```

## Bilingual and Dialectal Corpora

```{r}
#| eval: false
resources_data |> 
  filter(subtype %in% c("bilingual", "dialectal")) |> 
  distinct(name, subtype, lat, lon) |> 
  group_by(name, subtype) |> 
  slice_sample(n = 1) ->
  for_map

library(lingtypology)
map.feature(languages = "fake",
            features = for_map$subtype,
            latitude = for_map$lat,
            longitude = for_map$lon,
            tile = "Esri.WorldGrayCanvas", 
            minimap = TRUE, 
            width = 8,
            minimap.position = "bottomleft", 
            scale.bar.position = "bottomright")
```

```{r}
#| fig-align: center
#| out-height: 85%
#| fig-cap: Created with `lingtypology` [@moroz17]

knitr::include_graphics("images/map.png")
```

## {}

\vfill
\centering \LARGE
\alert{Can we analyze variation of linguistic features across all corpora?} \pause

\alert{What are the factors that influence variation?} \pause

\alert{Can we find different variation patterns?}
\vfill

# The DiaL2 project

## The DiaL2 team

```{r}
#| layout-ncol: 4
#| fig-subcap: 
#|  - "Maria Ermolova"
#|  - "Anna Grishanova"
#|  - "Natalia Koshelyuk"
#|  - "George Moroz"
#|  - "Chiara Naccarato"
#|  - "Anastasia Yakovleva"
#|  - "Svetlana Zemicheva"

knitr::include_graphics("images/yermolova.jpeg")
knitr::include_graphics("images/grishanova.png")
knitr::include_graphics("images/koshelyuk.jpeg")
knitr::include_graphics("images/moroz.jpeg")
knitr::include_graphics("images/naccarato.jpg")
knitr::include_graphics("images/yakovleva.jpg")
knitr::include_graphics("images/zemicheva.jpeg")
```

# The DiaL2 pipeline

# The DiaL2 results

# The DiaL2 sideproject

# Future plans

# References